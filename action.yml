name: trunkver
description: Create a trunkver for this github action run
author: crftd.tech
inputs:
  baseVersion:
    description: The base version to use
    required: false
    default: ""
  prerelease:
    description: The prerelease version to use
    required: false
    default: "false"
outputs:
  trunkver:
    description: The trunkver
runs:
  using: docker
  image: docker://ghcr.io/crftd-tech/trunkver:1.0.0-20240525214939-ga9902a8-9238426708
  entrypoint: /bin/sh
  args:
    - -eu
    - -o
    - pipefail
    - -c
    - echo trunkver=$(/trunkver "--prerelease=${{ inputs.prerelease }}" "${{ inputs.baseVersion }}") | tee $GITHUB_OUTPUT
