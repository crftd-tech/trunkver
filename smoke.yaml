command: 
  - trunkver 
  - --timestamp 
  - "2024-05-22T16:25:48+02:00" 

tests:
  - name: simple
    args:
      - --source-ref
      - "g1234567" 
      - --build-ref
      - "R4242"
    stdout: |
      20240522142548.0.0-g1234567-R4242

  - name: ci/github
    command: |
      export GITHUB_SHA=1234567
      export GITHUB_RUN_ID=R4242
      trunkver --timestamp "2024-05-22T16:25:48+02:00" 
    stdout: |
      20240522142548.0.0-g1234567-R4242

  - name: ci/gitlab
    command: |
      export GITLAB_CI=true
      export CI_COMMIT_SHA=1234567
      export CI_JOB_ID=R4242
      trunkver --timestamp "2024-05-22T16:25:48+02:00" 
    stdout: |
      20240522142548.0.0-g1234567-R4242
